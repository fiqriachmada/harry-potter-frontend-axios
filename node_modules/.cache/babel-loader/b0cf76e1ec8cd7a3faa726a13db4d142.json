{"ast":null,"code":"var _jsxFileName = \"/Users/fiqriachmada/Desktop/harry-potter-frontend-axios/src/components/character/CharacterList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { tmpImage } from \"../../apis/book\";\nimport { deleteBook, getListBook } from \"../../apis/bookService\";\nimport ModalComponent from \"../../modal/ModalComponent\";\nimport BookComponent from \"./BookComponent\"; // import book from \"../apis/book\";\n// import { axios, response } from \"axios\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CharacterList = ({\n  match\n}) => {\n  _s();\n\n  const {\n    path\n  } = match;\n  const [books, setBooks] = useState([]);\n  const [modalShow, setModalShow] = useState({\n    show: false,\n    id: null\n  });\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = () => {\n    getListBook().then(response => {\n      console.log(response.data);\n      setBooks(response.data);\n    });\n  };\n\n  const handleDelete = id => {\n    setModalShow({\n      show: true,\n      id\n    });\n  };\n\n  const handleDeleteTrue = () => {\n    if (modalShow.show && modalShow.id) {\n      bookDelete(modalShow.id);\n      setModalShow({\n        show: false,\n        id: null\n      });\n    }\n  };\n\n  const bookDelete = id => {\n    return deleteBook(id).then(response => {\n      loadData();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"py-5 container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Books Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/books/add\",\n      className: \"btn btn-sm btn-primary mb-3\",\n      children: \"Add Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [books.map(book => /*#__PURE__*/_jsxDEV(BookComponent, {\n        path: path,\n        bookId: book.id,\n        title: book.title,\n        description: book.description,\n        pages: book.pages,\n        purchaseAmount: book.purchaseAmount,\n        price: book.price,\n        language: book.language,\n        stock: book.stock,\n        publisher: book.publisher,\n        year: book.year,\n        image: tmpImage,\n        handleDelete: handleDelete\n      }, book.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)), books && !books.length && /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"No Book on Display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), modalShow.show && /*#__PURE__*/_jsxDEV(ModalComponent, {\n      show: modalShow,\n      handleDeleteTrue: handleDeleteTrue,\n      onHide: () => setModalShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CharacterList, \"r7Q6vx3tJ76/YFL0XRD+oINAmoU=\");\n\n_c = CharacterList;\nexport default CharacterList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CharacterList\");","map":{"version":3,"sources":["/Users/fiqriachmada/Desktop/harry-potter-frontend-axios/src/components/character/CharacterList.js"],"names":["useEffect","useState","Row","Link","tmpImage","deleteBook","getListBook","ModalComponent","BookComponent","CharacterList","match","path","books","setBooks","modalShow","setModalShow","show","id","loadData","then","response","console","log","data","handleDelete","handleDeleteTrue","bookDelete","map","book","title","description","pages","purchaseAmount","price","language","stock","publisher","year","length"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { tmpImage } from \"../../apis/book\";\nimport { deleteBook, getListBook } from \"../../apis/bookService\";\nimport ModalComponent from \"../../modal/ModalComponent\";\nimport BookComponent from \"./BookComponent\";\n// import book from \"../apis/book\";\n// import { axios, response } from \"axios\";\n\nconst CharacterList = ({ match }) => {\n  const { path } = match;\n\n  const [books, setBooks] = useState([]);\n  \n  const [modalShow, setModalShow] = useState({\n    show: false,\n    id: null,\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = () => {\n    getListBook().then((response) => {\n      console.log(response.data);\n      setBooks(response.data);\n    });\n  };\n\n  const handleDelete = (id) => {\n    setModalShow({\n      show: true,\n      id,\n    });\n  };\n\n  const handleDeleteTrue = () => {\n    if (modalShow.show && modalShow.id) {\n      bookDelete(modalShow.id);\n      setModalShow({\n        show: false,\n        id: null,\n      });\n    }\n  };\n\n  const bookDelete = (id) => {\n    return deleteBook(id).then((response) => {\n      loadData();\n    });\n  };\n\n  return (\n    <section className=\"py-5 container mt-5\">\n      <h3>Books Page</h3>\n      <Link to=\"/books/add\" className=\"btn btn-sm btn-primary mb-3\">\n        Add Book\n      </Link>\n      <Row>\n        {books.map((book) => (\n          <BookComponent\n            path={path}\n            key={book.id}\n            bookId={book.id}\n            title={book.title}\n            description={book.description}\n            pages={book.pages}\n            purchaseAmount={book.purchaseAmount}\n            price={book.price}\n            language={book.language}\n            stock={book.stock}\n            publisher={book.publisher}\n            year={book.year}\n            image={tmpImage}\n            handleDelete={handleDelete}\n          />\n        ))}\n        {books && !books.length && <h4>No Book on Display</h4>}\n      </Row>\n      {modalShow.show && (\n        <ModalComponent\n          show={modalShow}\n          handleDeleteTrue={handleDeleteTrue}\n          onHide={() => setModalShow(false)}\n        />\n      )}\n    </section>\n  );\n};\nexport default CharacterList;\n"]},"metadata":{},"sourceType":"module"}