{"ast":null,"code":"var _jsxFileName = \"/Users/fiqriachmada/Desktop/harry-potter-frontend-axios/src/components/book/BookForm.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Form, Row } from \"react-bootstrap\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { bookSchema } from \"../../validations/validationSchema\";\nimport { useEffect, useState } from \"react\";\nimport { createBook, getBookById, updateBook } from \"../../apis/bookService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookForm = ({\n  history,\n  match\n}) => {\n  _s();\n\n  var _errors$title, _errors$description, _errors$language, _errors$publisher, _errors$pages, _errors$year, _errors$stock, _errors$price, _errors$purchaseAmoun;\n\n  const {\n    id\n  } = match.params;\n  const isAddMode = !id;\n  const [book, setBook] = useState({});\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: {\n      errors,\n      isSubmitting\n    }\n  } = useForm({\n    resolver: yupResolver(bookSchema)\n  });\n\n  const submitForm = data => {\n    return isAddMode ? insert(data) : update(id, data);\n  };\n\n  const insert = data => {\n    return createBook(data).then(response => {\n      history.push(\".\");\n    });\n  };\n\n  const update = (id, data) => {\n    return updateBook(id, data).then(response => {\n      history.push(\"..\");\n    });\n  };\n\n  useEffect(() => {\n    if (!isAddMode) {\n      getBookById(id).then(response => {\n        let book = response.data;\n        const fields = [\"title\", \"description\", \"year\", \"pages\", \"language\", \"publisher\", \"price\", \"purchaseAmount\", \"stock\"];\n        fields.forEach(field => setValue(field, book[field]));\n        setBook(book);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"col-lg-12 mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-4 shadow-lg mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Book Form Component\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit(submitForm),\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicTitle\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter book title\",\n              name: \"title\",\n              ...register(\"title\"),\n              className: `form-control ${errors.title ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$title = errors.title) === null || _errors$title === void 0 ? void 0 : _errors$title.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicDescription\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter book description\",\n              name: \"description\",\n              ...register(\"description\"),\n              className: `form-control ${errors.description ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$description = errors.description) === null || _errors$description === void 0 ? void 0 : _errors$description.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Language\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Language\",\n              name: \"language\",\n              ...register(\"language\"),\n              className: `form-control ${errors.language ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$language = errors.language) === null || _errors$language === void 0 ? void 0 : _errors$language.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Publisher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Publisher\",\n              name: \"publisher\",\n              ...register(\"publisher\"),\n              className: `form-control ${errors.publisher ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$publisher = errors.publisher) === null || _errors$publisher === void 0 ? void 0 : _errors$publisher.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Page\",\n              name: \"pages\",\n              ...register(\"pages\"),\n              className: `form-control ${errors.pages ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$pages = errors.pages) === null || _errors$pages === void 0 ? void 0 : _errors$pages.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Year\",\n              name: \"year\",\n              ...register(\"year\"),\n              className: `form-control ${errors.year ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$year = errors.year) === null || _errors$year === void 0 ? void 0 : _errors$year.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Stock\",\n              name: \"stock\",\n              ...register(\"stock\"),\n              className: `form-control ${errors.stock ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$stock = errors.stock) === null || _errors$stock === void 0 ? void 0 : _errors$stock.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Price\",\n              name: \"price\",\n              ...register(\"price\"),\n              className: `form-control ${errors.price ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$price = errors.price) === null || _errors$price === void 0 ? void 0 : _errors$price.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Purchase Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Purchase Amount\",\n              name: \"purchaseAmount\",\n              ...register(\"purchaseAmount\"),\n              className: `form-control ${errors.purchaseAmount ? \"is-invalid\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: (_errors$purchaseAmoun = errors.purchaseAmount) === null || _errors$purchaseAmoun === void 0 ? void 0 : _errors$purchaseAmoun.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookForm, \"0tryQ7mSgGNQDEcaCW+qsbFIrmU=\", false, function () {\n  return [useForm];\n});\n\n_c = BookForm;\nexport default BookForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"sources":["/Users/fiqriachmada/Desktop/harry-potter-frontend-axios/src/components/book/BookForm.js"],"names":["Button","Card","Form","Row","useForm","yupResolver","bookSchema","useEffect","useState","createBook","getBookById","updateBook","BookForm","history","match","id","params","isAddMode","book","setBook","register","handleSubmit","reset","setValue","formState","errors","isSubmitting","resolver","submitForm","data","insert","update","then","response","push","fields","forEach","field","title","message","description","language","publisher","pages","year","stock","price","purchaseAmount"],"mappings":"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","sourcesContent":["import { Button, Card, Form, Row } from \"react-bootstrap\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { bookSchema } from \"../../validations/validationSchema\";\nimport { useEffect, useState } from \"react\";\nimport { createBook, getBookById, updateBook } from \"../../apis/bookService\";\n\nconst BookForm = ({ history, match }) => {\n  const { id } = match.params;\n\n  const isAddMode = !id;\n\n  const [book, setBook] = useState({});\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { errors, isSubmitting },\n  } = useForm({ resolver: yupResolver(bookSchema) });\n\n  const submitForm = (data) => {\n    return isAddMode ? insert(data) : update(id, data);\n  };\n\n  const insert = (data) => {\n    return createBook(data).then((response) => {\n      history.push(\".\");\n    });\n  };\n\n  const update = (id, data) => {\n    return updateBook(id, data).then((response) => {\n      history.push(\"..\");\n    });\n  };\n\n  useEffect(() => {\n    if (!isAddMode) {\n      getBookById(id).then((response) => {\n        let book = response.data;\n        const fields = [\n          \"title\",\n          \"description\",\n          \"year\",\n          \"pages\",\n          \"language\",\n          \"publisher\",\n          \"price\",\n          \"purchaseAmount\",\n          \"stock\",\n        ];\n        fields.forEach((field) => setValue(field, book[field]));\n        setBook(book);\n      });\n    }\n  }, []);\n\n  return (\n    <section>\n      <Row className=\"col-lg-12 mt-5\">\n        <Card className=\"p-4 shadow-lg mt-5\">\n          <h3>Book Form Component</h3>\n          <Form onSubmit={handleSubmit(submitForm)}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTitle\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter book title\"\n                name=\"title\"\n                {...register(\"title\")}\n                className={`form-control ${errors.title ? \"is-invalid\" : \"\"}`}\n              />\n              <div className=\"invalid-feedback\">{errors.title?.message}</div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDescription\">\n              <Form.Label>Description</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter book description\"\n                name=\"description\"\n                {...register(\"description\")}\n                className={`form-control ${\n                  errors.description ? \"is-invalid\" : \"\"\n                }`}\n              />\n              <div className=\"invalid-feedback\">\n                {errors.description?.message}\n              </div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Language</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Language\"\n                name=\"language\"\n                {...register(\"language\")}\n                className={`form-control ${\n                  errors.language ? \"is-invalid\" : \"\"\n                }`}\n              />\n              <div className=\"invalid-feedback\">{errors.language?.message}</div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Publisher</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Publisher\"\n                name=\"publisher\"\n                {...register(\"publisher\")}\n                className={`form-control ${\n                  errors.publisher ? \"is-invalid\" : \"\"\n                }`}\n              />\n              <div className=\"invalid-feedback\">\n                {errors.publisher?.message}\n              </div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Page</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Page\"\n                name=\"pages\"\n                {...register(\"pages\")}\n                className={`form-control ${errors.pages ? \"is-invalid\" : \"\"}`}\n              />\n              <div className=\"invalid-feedback\">{errors.pages?.message}</div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Year</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Year\"\n                name=\"year\"\n                {...register(\"year\")}\n                className={`form-control ${errors.year ? \"is-invalid\" : \"\"}`}\n              />\n\n              <div className=\"invalid-feedback\">{errors.year?.message}</div>\n            </Form.Group>\n            \n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Stock</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Stock\"\n                name=\"stock\"\n                {...register(\"stock\")}\n                className={`form-control ${errors.stock ? \"is-invalid\" : \"\"}`}\n              />\n              <div className=\"invalid-feedback\">{errors.stock?.message}</div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Price</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Price\"\n                name=\"price\"\n                {...register(\"price\")}\n                className={`form-control ${errors.price ? \"is-invalid\" : \"\"}`}\n              />\n              <div className=\"invalid-feedback\">{errors.price?.message}</div>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicImage\">\n              <Form.Label>Purchase Amount</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Purchase Amount\"\n                name=\"purchaseAmount\"\n                {...register(\"purchaseAmount\")}\n                className={`form-control ${\n                  errors.purchaseAmount ? \"is-invalid\" : \"\"\n                }`}\n              />\n              <div className=\"invalid-feedback\">\n                {errors.purchaseAmount?.message}\n              </div>\n            </Form.Group>\n\n            <Button variant=\"success\" type=\"submit\">\n              Save\n            </Button>\n          </Form>\n        </Card>\n      </Row>\n    </section>\n  );\n};\nexport default BookForm;\n"]},"metadata":{},"sourceType":"module"}